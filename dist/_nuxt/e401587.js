(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{292:function(t,e,o){"use strict";o.r(e);var n=o(10),r=(o(64),o(81),o(80)),l=o.n(r),m={name:"LoginPage",data:function(){return{login:{email:"",password:""},errorForm:""}},methods:{loginForm:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("https://frytolnacestach-api.vercel.app/api/login/".concat(t.login.email,"/").concat(t.login.password));case 3:o=e.sent,null!=JSON.stringify(o.data.message[0])?200==o.data.status&&(localStorage.setItem("user-info",JSON.stringify(o.data.message[0])),(n=new Date).setMonth(n.getMonth()+1),r="expires="+n,document.cookie="FNCADMINemail="+o.data.message[0].email+";"+r,document.cookie="FNCADMINpass="+o.data.message[0].password+";"+r,localStorage.getItem("user-info"),t.$router.push("admin")):(t.errorForm="Uživatelský email nebo heslo je nesprávné",console.log("Uživatelský email nebo heslo je nesprávné")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},mounted:function(){var t=localStorage.getItem("user-info");t&&"undefined"!=t&&this.$router.push("admin")}},c=o(13),component=Object(c.a)(m,(function(){var t=this,e=t._self._c;return e("main",{staticClass:"t-main"},[t._m(0),t._v(" "),e("section",{staticClass:"t-section"},[e("div",{staticClass:"o-form-login"},[e("div",{staticClass:"o-form-login__outer"},[e("div",{staticClass:"o-form-login__inner"},[t.errorForm?e("div",{staticClass:"o-flash-messages"},[e("div",{staticClass:"o-flash-messages__items"},[e("div",{staticClass:"o-flash-messages__item"},[e("div",{staticClass:"o-flash-messages__outer"},[e("div",{staticClass:"o-flash-messages__inner"},[e("span",{staticClass:"o-flash-messages__text"},[t._v(t._s(t.errorForm))])])])])])]):t._e(),t._v(" "),e("form",{staticClass:"o-form-login__form",on:{submit:function(e){return e.preventDefault(),t.loginForm.apply(null,arguments)}}},[e("div",{staticClass:"o-form-login__items"},[e("div",{staticClass:"o-form-login__item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"a-input a-input--big",attrs:{type:"text",name:"email",placeholder:"E-mail"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"o-form-login__item"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"a-input a-input--big",attrs:{type:"password",name:"password",placeholder:"Heslo"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})])]),t._v(" "),t._m(1)])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"o-hero"},[t("div",{staticClass:"o-hero__outer"},[t("div",{staticClass:"o-hero__inner"},[t("h1",{staticClass:"o-hero__headline"},[this._v("\n                    Přihlášení do administrace\n                ")])])])])},function(){var t=this._self._c;return t("div",{staticClass:"o-form-login__buttons mt-1"},[t("div",{staticClass:"o-form-login__button"},[t("div",{staticClass:"m-button"},[t("button",{staticClass:"m-button__input",attrs:{type:"submit"}},[this._v("Login")])])])])}],!1,null,null,null);e.default=component.exports}}]);